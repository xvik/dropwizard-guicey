
<!DOCTYPE html>
<html class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Dropwizard guice integration">
      
      
        <link rel="canonical" href="https://xvik.github.io/dropwizard-guicey/4.1.0/getting-started/">
      
      
        <meta name="author" content="Vyacheslav Rusakov">
      
      
        <link rel="shortcut icon" href="../assets/images/favicon.ico">
      
      <meta name="generator" content="mkdocs+mkdocs-material#1.0.3">
    
    
      
        <title>Getting started - Dropwizard-guicey</title>
      
    
    
      <script src="../assets/javascripts/modernizr-facb31f4a3.js"></script>
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application-f3ab63f78a.css">
      
      
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Dropwizard-guicey" class=" md-icon md-icon--home  md-header-nav__button">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
            
            Getting started
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <div class="md-search__overlay"></div>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false">
      <label class="md-icon md-search__icon" for="search"></label>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result"></div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            
              


  


  <a href="https://github.com/xvik/dropwizard-guicey" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      dropwizard-guicey
    </div>
  </a>

            
          </div>
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container">
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <i class=" md-icon md-icon--home  md-nav__button">
      
    </i>
    Dropwizard-guicey
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/xvik/dropwizard-guicey" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      dropwizard-guicey
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  <li class="md-nav__item">
    
      <a href=".." title="Home" class="md-nav__link">
        Home
      </a>
    
  </li>

    
      
      
  <li class="md-nav__item">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Getting started
      </label>
    
    <a href="./" title="Getting started" class="md-nav__link md-nav__link--active">
      Getting started
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" title="Installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bom" title="BOM" class="md-nav__link">
    BOM
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" title="Usage" class="md-nav__link">
    Usage
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add-resource" title="Add resource" class="md-nav__link">
    Add resource
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-managed" title="Add managed" class="md-nav__link">
    Add managed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-filter" title="Add filter" class="md-nav__link">
    Add filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-guice-module" title="Add guice module" class="md-nav__link">
    Add guice module
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#access-dropwizard-objects" title="Access dropwizard objects" class="md-nav__link">
    Access dropwizard objects
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#available-bindings" title="Available bindings" class="md-nav__link">
    Available bindings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manual-mode" title="Manual mode" class="md-nav__link">
    Manual mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installers" title="Installers" class="md-nav__link">
    Installers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bundles" title="Bundles" class="md-nav__link">
    Bundles
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bundles-loading" title="Bundles loading" class="md-nav__link">
    Bundles loading
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#options" title="Options" class="md-nav__link">
    Options
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-diagnostic" title="Configuration diagnostic" class="md-nav__link">
    Configuration diagnostic
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      User guide
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-3">
        User guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../guide/configuration/" title="Configuration" class="md-nav__link">
        Configuration
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../guide/lifecycle/" title="Integration lifecycle" class="md-nav__link">
        Integration lifecycle
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../guide/injector/" title="Injector" class="md-nav__link">
        Injector
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../guide/module-autowiring/" title="Module autowiring" class="md-nav__link">
        Module autowiring
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../guide/bindings/" title="Bindings" class="md-nav__link">
        Bindings
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../guide/scan/" title="Classpath scan" class="md-nav__link">
        Classpath scan
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../guide/installers/" title="Installers" class="md-nav__link">
        Installers
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../guide/ordering/" title="Ordering" class="md-nav__link">
        Ordering
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../guide/bundles/" title="Bundles (Guicey)" class="md-nav__link">
        Bundles (Guicey)
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../guide/options/" title="Options" class="md-nav__link">
        Options
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../guide/diagnostic/" title="Diagnostic" class="md-nav__link">
        Diagnostic
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../guide/commands/" title="Commands" class="md-nav__link">
        Commands
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../guide/web/" title="Web" class="md-nav__link">
        Web
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../guide/test/" title="Test" class="md-nav__link">
        Test
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Installers
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-4">
        Installers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../installers/resource/" title="Resource" class="md-nav__link">
        Resource
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../installers/task/" title="Task" class="md-nav__link">
        Task
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../installers/managed/" title="Managed" class="md-nav__link">
        Managed
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../installers/lifecycle/" title="Lifecycle" class="md-nav__link">
        Lifecycle
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../installers/healthcheck/" title="Health check" class="md-nav__link">
        Health check
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../installers/jersey-ext/" title="Jersey extension" class="md-nav__link">
        Jersey extension
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../installers/jersey-feature/" title="Jersey feature" class="md-nav__link">
        Jersey feature
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../installers/eager/" title="Eager singleton" class="md-nav__link">
        Eager singleton
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../installers/plugin/" title="Plugin" class="md-nav__link">
        Plugin
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../installers/servlet/" title="Web servlet" class="md-nav__link">
        Web servlet
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../installers/filter/" title="Web filter" class="md-nav__link">
        Web filter
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../installers/listener/" title="Web listener" class="md-nav__link">
        Web listener
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Examples
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-5">
        Examples
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../examples/authentication/" title="Authentication" class="md-nav__link">
        Authentication
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../examples/governator/" title="Governator" class="md-nav__link">
        Governator
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../examples/hibernate/" title="Hibernate" class="md-nav__link">
        Hibernate
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../examples/eventbus/" title="EventBus" class="md-nav__link">
        EventBus
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../examples/jdbi/" title="JDBI" class="md-nav__link">
        JDBI
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Extras
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-6">
        Extras
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../extras/admin-rest/" title="Admin REST" class="md-nav__link">
        Admin REST
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../extras/bom/" title="BOM" class="md-nav__link">
        BOM
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../extras/eventbus/" title="Guava EventBus" class="md-nav__link">
        Guava EventBus
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../extras/jdbi/" title="JDBI" class="md-nav__link">
        JDBI
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-7">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../about/compatibility/" title="Compatibility" class="md-nav__link">
        Compatibility
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../about/history/" title="Release notes" class="md-nav__link">
        Release notes
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../about/support/" title="Support" class="md-nav__link">
        Support
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../about/license/" title="License" class="md-nav__link">
        License
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" title="Installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bom" title="BOM" class="md-nav__link">
    BOM
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" title="Usage" class="md-nav__link">
    Usage
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add-resource" title="Add resource" class="md-nav__link">
    Add resource
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-managed" title="Add managed" class="md-nav__link">
    Add managed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-filter" title="Add filter" class="md-nav__link">
    Add filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-guice-module" title="Add guice module" class="md-nav__link">
    Add guice module
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#access-dropwizard-objects" title="Access dropwizard objects" class="md-nav__link">
    Access dropwizard objects
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#available-bindings" title="Available bindings" class="md-nav__link">
    Available bindings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manual-mode" title="Manual mode" class="md-nav__link">
    Manual mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installers" title="Installers" class="md-nav__link">
    Installers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bundles" title="Bundles" class="md-nav__link">
    Bundles
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bundles-loading" title="Bundles loading" class="md-nav__link">
    Bundles loading
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#options" title="Options" class="md-nav__link">
    Options
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-diagnostic" title="Configuration diagnostic" class="md-nav__link">
    Configuration diagnostic
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
               
                 <a href="https://github.com/xvik/dropwizard-guicey/edit/master/src/doc/docs/getting-started.md" title="Edit this page" class="md-icon md-content__edit">edit</a>
               
              
                
                <h1 id="getting-started">Getting started<a class="headerlink" href="#getting-started" title="Permanent link">&para;</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Getting started guide briefly covers the most important concepts and commonly used features.
Advanced description of mentioned topics may be found in user guide.    </p>
</div>
<h2 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">&para;</a></h2>
<p>Available from maven central and <a href="https://bintray.com/bintray/jcenter">bintray jcenter</a>.</p>
<p>Maven:</p>
<div class="codehilite"><pre><span></span><span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>ru.vyarus<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>dropwizard-guicey<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>4.1.0<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</pre></div>


<p>Gradle:</p>
<div class="codehilite"><pre><span></span><span class="n">compile</span> <span class="s1">&#39;ru.vyarus:dropwizard-guicey:4.1.0&#39;</span>
</pre></div>


<h3 id="bom">BOM<a class="headerlink" href="#bom" title="Permanent link">&para;</a></h3>
<p>Guicey pom may be also used as maven BOM:</p>
<div class="codehilite"><pre><span></span><span class="n">plugins</span> <span class="o">{</span>
    <span class="n">id</span> <span class="s2">&quot;io.spring.dependency-management&quot;</span> <span class="n">version</span> <span class="s2">&quot;1.0.2.RELEASE&quot;</span>
<span class="o">}</span>
<span class="n">dependencyManagement</span> <span class="o">{</span>
    <span class="n">imports</span> <span class="o">{</span>
        <span class="n">mavenBom</span> <span class="s1">&#39;ru.vyarus.guicey:guicey:4.1.0&#39;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="n">dependencies</span> <span class="o">{</span>
    <span class="n">compile</span> <span class="s1">&#39;ru.vyarus.guicey:guicey:4.1.0&#39;</span>

    <span class="c1">// no need to specify versions</span>
    <span class="n">compile</span> <span class="s1">&#39;io.dropwizard:dropwizard-auth&#39;</span>
    <span class="n">compile</span> <span class="s1">&#39;com.google.inject:guice-assistedinject&#39;</span>   

    <span class="n">testCompile</span> <span class="s1">&#39;io.dropwizard:dropwizard-test&#39;</span>
    <span class="n">testCompile</span> <span class="s1">&#39;org.spockframework:spock-core&#39;</span>
<span class="o">}</span>
</pre></div>


<p>Bom includes:</p>
<ul>
<li>Dropwizard BOM (io.dropwizard:dropwizard-bom)</li>
<li>Guice BOM (com.google.inject:guice-bom)</li>
<li>Hk bridge (org.glassfish.hk2:guice-bridge) </li>
<li>System rules, required for StartupErrorRule (com.github.stefanbirkner:system-rules)</li>
<li>Spock (org.spockframework:spock-core)</li>
</ul>
<p>Guicey extensions project provide extended BOM with guicey and all guicey modules included. 
See <a href="../extras/bom/">extensions project BOM</a> section for more details of BOM usage.</p>
<h2 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p>Full source of example application is <a href="https://github.com/xvik/dropwizard-guicey-examples/tree/master/getting-started">published here</a></p>
</div>
<p>Register guice bundle:</p>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SampleApplication</span> <span class="kd">extends</span> <span class="n">Application</span><span class="o">&lt;</span><span class="n">Configuration</span><span class="o">&gt;</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
            <span class="k">new</span> <span class="n">SampleApplication</span><span class="o">().</span><span class="na">run</span><span class="o">(</span><span class="n">args</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initialize</span><span class="o">(</span><span class="n">Bootstrap</span><span class="o">&lt;</span><span class="n">Configuration</span><span class="o">&gt;</span> <span class="n">bootstrap</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">bootstrap</span><span class="o">.</span><span class="na">addBundle</span><span class="o">(</span><span class="n">GuiceBundle</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
                <span class="o">.</span><span class="na">enableAutoConfig</span><span class="o">(</span><span class="n">getClass</span><span class="o">().</span><span class="na">getPackage</span><span class="o">().</span><span class="na">getName</span><span class="o">())</span>
                <span class="o">.</span><span class="na">build</span><span class="o">());</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(</span><span class="n">Configuration</span> <span class="n">configuration</span><span class="o">,</span> <span class="n">Environment</span> <span class="n">environment</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Bundle builder contains shortcuts for all available features, so required function 
may be found only by looking at available methods (and reading javadoc).</p>
</div>
<p>Auto configuration (activated with <code>enanleAutoConfig</code>) means that guicey will search for extensions in application package and subpackages.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can declare multiple packages for classpath scan: 
<div class="codehilite"><pre><span></span> <span class="o">.</span><span class="na">enanleAutoConfig</span><span class="o">(</span><span class="s">&quot;com.mycompany.foo&quot;</span><span class="o">,</span> <span class="s">&quot;com.mycompany.bar&quot;</span><span class="o">)</span>
</pre></div>
</p>
</div>
<p>Application could be launched by simply running main class (assume you will use IDE run command):</p>
<div class="codehilite"><pre><span></span>SampleApplication server
</pre></div>


<div class="admonition note">
<p class="admonition-title">Note</p>
<p>config.yml is not passed as parameter because we don't need additional configuration now</p>
</div>
<h3 id="add-resource">Add resource<a class="headerlink" href="#add-resource" title="Permanent link">&para;</a></h3>
<p>Creating custom rest resource:</p>
<div class="codehilite"><pre><span></span><span class="nd">@Path</span><span class="o">(</span><span class="s">&quot;/sample&quot;</span><span class="o">)</span>
<span class="nd">@Produces</span><span class="o">(</span><span class="s">&quot;application/json&quot;</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SampleResource</span> <span class="o">{</span>

    <span class="nd">@GET</span>
    <span class="nd">@Path</span><span class="o">(</span><span class="s">&quot;/&quot;</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">Response</span> <span class="nf">ask</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">Response</span><span class="o">.</span><span class="na">ok</span><span class="o">(</span><span class="s">&quot;ok&quot;</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<p>Now, when you run application, you can see that resource was installed automatically:</p>
<div class="codehilite"><pre><span></span>INFO  [2017-02-05 11:23:31,188] io.dropwizard.jersey.DropwizardResourceConfig: The following paths were found for the configured resources:

    GET     /sample/ (ru.vyarus.dropwizard.guice.examples.rest.SampleResource)
</pre></div>


<p>Call <code>http://localhost:8080/sample/</code> to make sure it works.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Rest context is mapped to root by default. To change it use configuration file:
<div class="codehilite"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">server</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">rootPath</span><span class="p p-Indicator">:</span> <span class="s">&#39;/rest/*&#39;</span>
</pre></div>
</p>
</div>
<p>Resource is a guice bean, so you can use guice injection here. To accessing request specific
objects like request, response, jersey <code>javax.ws.rs.core.UriInfo</code> etc. use <code>Provider</code>:</p>
<div class="codehilite"><pre><span></span><span class="nd">@Path</span><span class="o">(</span><span class="s">&quot;/sample&quot;</span><span class="o">)</span>
<span class="nd">@Produces</span><span class="o">(</span><span class="s">&quot;application/json&quot;</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SampleResource</span> <span class="o">{</span>

    <span class="nd">@Inject</span>
    <span class="kd">private</span> <span class="n">Provider</span><span class="o">&lt;</span><span class="n">HttpServletRequest</span><span class="o">&gt;</span> <span class="n">requestProvider</span><span class="o">;</span>

    <span class="nd">@GET</span>
    <span class="nd">@Path</span><span class="o">(</span><span class="s">&quot;/&quot;</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">Response</span> <span class="nf">ask</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">final</span> <span class="n">String</span> <span class="n">ip</span> <span class="o">=</span> <span class="n">requestProvider</span><span class="o">.</span><span class="na">get</span><span class="o">().</span><span class="na">getRemoteAddr</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">Response</span><span class="o">.</span><span class="na">ok</span><span class="o">(</span><span class="n">ip</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<p>Now resource will return caller IP.</p>
<p>Also you can inject request specific objects with <a href="../installers/resource/#context-usage">as method parameter</a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Field injection used in examples for simplicity. In real life projects <a href="https://github.com/google/guice/wiki/Injections">prefer constructor injection</a>.    </p>
</div>
<h3 id="add-managed">Add managed<a class="headerlink" href="#add-managed" title="Permanent link">&para;</a></h3>
<p><a href="http://www.dropwizard.io/1.1.0/docs/manual/core.html#managed-objects">Dropwizard managed objects</a> are extremely useful for managing resources.</p>
<p>Create simple managed implementation:</p>
<div class="codehilite"><pre><span></span><span class="nd">@Singleton</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SampleBootstrap</span> <span class="kd">implements</span> <span class="n">Managed</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">Logger</span> <span class="n">logger</span> <span class="o">=</span> <span class="n">LoggerFactory</span><span class="o">.</span><span class="na">getLogger</span><span class="o">(</span><span class="n">SampleBootstrap</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">start</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">logger</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">&quot;Starting some resource&quot;</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">stop</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">logger</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">&quot;Shutting down some resource&quot;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<p>It will be automatically discovered and installed. Guicey always reports installed extensions
(when they are not reported by dropwizard itself). So you can see in startup logs now:</p>
<div class="codehilite"><pre><span></span>INFO  [2017-02-05 11:59:30,750] ru.vyarus.dropwizard.guice.module.installer.feature.ManagedInstaller: managed =

    (ru.vyarus.dropwizard.guice.examples.service.SampleBootstrap)
</pre></div>


<h3 id="add-filter">Add filter<a class="headerlink" href="#add-filter" title="Permanent link">&para;</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Guice <code>ServletModule</code> may be used for servlets and filters definitions, but most of the time it's more convenient
to use simple servlet annotations (<code>@WebFilter</code>, <code>@WebServlet</code>, <code>@WebListener</code>). 
Moreover, guice servlet module is not able to register async filters and servlets.</p>
</div>
<p>To use <code>@WebFilter</code> annotation for filter installation web installers must be activated with shortcut method:</p>
<div class="codehilite"><pre><span></span><span class="n">bootstrap</span><span class="o">.</span><span class="na">addBundle</span><span class="o">(</span><span class="n">GuiceBundle</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
                <span class="o">.</span><span class="na">enableAutoConfig</span><span class="o">(</span><span class="n">getClass</span><span class="o">().</span><span class="na">getPackage</span><span class="o">().</span><span class="na">getName</span><span class="o">())</span>
                <span class="o">.</span><span class="na">useWebInstallers</span><span class="o">()</span>
                <span class="o">.</span><span class="na">build</span><span class="o">());</span>
</pre></div>


<p>Add sample filter around rest methods:</p>
<div class="codehilite"><pre><span></span><span class="nd">@WebFilter</span><span class="o">(</span><span class="n">urlPatterns</span> <span class="o">=</span> <span class="s">&quot;/*&quot;</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CustomHeaderFilter</span> <span class="kd">implements</span> <span class="n">Filter</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">init</span><span class="o">(</span><span class="n">FilterConfig</span> <span class="n">filterConfig</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">doFilter</span><span class="o">(</span><span class="n">ServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">ServletResponse</span> <span class="n">response</span><span class="o">,</span> <span class="n">FilterChain</span> <span class="n">chain</span><span class="o">)</span>
            <span class="kd">throws</span> <span class="n">IOException</span><span class="o">,</span> <span class="n">ServletException</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="s">&quot;me&quot;</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">&quot;user&quot;</span><span class="o">)))</span> <span class="o">{</span>
            <span class="n">chain</span><span class="o">.</span><span class="na">doFilter</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">response</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="o">((</span><span class="n">HttpServletResponse</span><span class="o">)</span> <span class="n">response</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">sendError</span><span class="o">(</span><span class="n">HttpServletResponse</span><span class="o">.</span><span class="na">SC_UNAUTHORIZED</span><span class="o">,</span> <span class="s">&quot;Not authorized&quot;</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">destroy</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<p>Filter will pass through only requests with <code>user=me</code> request parameter. It is used just to show
how to register custom filters with annotations (implementation itself is not useful).</p>
<p>New lines in log will appear confirming filter installation:</p>
<div class="codehilite"><pre><span></span>INFO  [2017-02-11 17:18:16,943] ru.vyarus.dropwizard.guice.module.installer.feature.web.WebFilterInstaller: filters =

    /*                       (ru.vyarus.dropwizard.guice.examples.web.AuthFilter)   .auth
</pre></div>


<p>Call <code>http://localhost:8080/sample/</code> and <code>http://localhost:8080/sample/?user=me</code> to make sure filter works.</p>
<h3 id="add-guice-module">Add guice module<a class="headerlink" href="#add-guice-module" title="Permanent link">&para;</a></h3>
<p>If you need to register guice module in injector:</p>
<div class="codehilite"><pre><span></span><span class="n">bootstrap</span><span class="o">.</span><span class="na">addBundle</span><span class="o">(</span><span class="n">GuiceBundle</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
                <span class="o">...</span>
                <span class="o">.</span><span class="na">modules</span><span class="o">(</span><span class="k">new</span> <span class="n">SampleModule</span><span class="o">())</span>
                <span class="o">.</span><span class="na">build</span><span class="o">());</span>
</pre></div>


<p>Multiple modules could be registered:
<div class="codehilite"><pre><span></span><span class="o">.</span><span class="na">modules</span><span class="o">(</span><span class="k">new</span> <span class="n">SampleModule</span><span class="o">(),</span> <span class="k">new</span> <span class="n">Some3rdPatyModule</span><span class="o">())</span>
</pre></div>
</p>
<div class="admonition note">
<p>Guice <code>ServletModule</code> could be used for filters and servlets registration.</p>
</div>
<div class="admonition tip">
<p>If you have at least one module of your own then it's recommended to move 
all guice modules registration there to encapsulate guice staff:
<div class="codehilite"><pre><span></span><span class="o">.</span><span class="na">modules</span><span class="o">(</span><span class="k">new</span> <span class="n">SampleModule</span><span class="o">())</span>        
</pre></div>

<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SampleModule</span> <span class="kd">extends</span> <span class="n">AbstractModule</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">configure</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">install</span><span class="o">(</span><span class="k">new</span> <span class="n">Some3rdPatyModule</span><span class="o">());</span>

        <span class="c1">// some custom bindings there</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Guicey removes duplicate registrations by type. For example, in case:
<div class="codehilite"><pre><span></span><span class="o">.</span><span class="na">modules</span><span class="o">(</span><span class="k">new</span> <span class="n">SampleModule</span><span class="o">(),</span> <span class="k">new</span> <span class="n">SampleModule</span><span class="o">())</span>
</pre></div>

Only one module will be registered. This is intentional restriction to simplify bundles usage.</p>
</div>
<p>In some cases, it could be desired to use different instances of the same module:
<div class="codehilite"><pre><span></span><span class="o">.</span><span class="na">modules</span><span class="o">(</span><span class="k">new</span> <span class="n">ParametrizableModule</span><span class="o">(</span><span class="s">&quot;mod1&quot;</span><span class="o">),</span> <span class="k">new</span> <span class="n">ParametrizableModule</span><span class="o">(</span><span class="s">&quot;mod2&quot;</span><span class="o">))</span>
</pre></div>

This will not work (second instance will be dropped). In such cases do registrations in custom
guice module:
<div class="codehilite"><pre><span></span><span class="n">install</span><span class="o">(</span><span class="k">new</span> <span class="n">ParametrizableModule</span><span class="o">(</span><span class="s">&quot;mod1&quot;</span><span class="o">));</span>
<span class="n">install</span><span class="o">(</span><span class="k">new</span> <span class="n">ParametrizableModule</span><span class="o">(</span><span class="s">&quot;mod2&quot;</span><span class="o">));</span>
</pre></div>
</p>
<h4 id="access-dropwizard-objects">Access dropwizard objects<a class="headerlink" href="#access-dropwizard-objects" title="Permanent link">&para;</a></h4>
<p>You may need dropwizard <code>Configuration</code> or <code>Environment</code> inside module.
For example, to access configuration or to tune dropwizard environment.</p>
<p>In most cases simply extend <code>DropwizardAwareModule</code>:</p>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SampleModule</span> <span class="kd">extends</span> <span class="n">DropwizardAwareModule</span><span class="o">&lt;</span><span class="n">Configuration</span><span class="o">&gt;</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">configure</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">configuration</span><span class="o">()...</span> <span class="c1">// access configuration</span>
        <span class="n">environment</span><span class="o">()...</span> <span class="c1">// access environment</span>
        <span class="n">bootstrap</span><span class="o">()...</span>  <span class="c1">// access dropwizard bootstrap</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are also <a href="../guide/module-autowiring/">interfaces available</a>, which may be implemented directly instead of extending class.
Base class simply reduce boilerplate.</p>
</div>
<h3 id="available-bindings">Available bindings<a class="headerlink" href="#available-bindings" title="Permanent link">&para;</a></h3>
<ul>
<li>Configuration as <code>io.dropwizard.Configuration</code>, your configuration class and <a href="../guide/bindings/#configuration">any class between them</a> 
(and, optionally, <a href="../guide/configuration/#configuration-binding">interfaces implemented by your configuration class</a>)</li>
<li><code>io.dropwizard.setup.Environment</code></li>
</ul>
<p>These bindings are not immediately available as HK context <a href="../guide/lifecycle/">starts after guice</a>:</p>
<ul>
<li><code>javax.ws.rs.core.Application</code></li>
<li><code>javax.ws.rs.ext.Providers</code></li>
<li><code>org.glassfish.hk2.api.ServiceLocator</code></li>
<li><code>org.glassfish.jersey.server.internal.inject.MultivaluedParameterExtractorProvider</code></li>
</ul>
<p>Request-scoped bindings:</p>
<ul>
<li><code>javax.ws.rs.core.UriInfo</code></li>
<li><code>javax.ws.rs.container.ResourceInfo</code></li>
<li><code>javax.ws.rs.core.HttpHeaders</code></li>
<li><code>javax.ws.rs.core.SecurityContext</code></li>
<li><code>javax.ws.rs.core.Request</code></li>
<li><code>org.glassfish.jersey.server.ContainerRequest</code></li>
<li><code>org.glassfish.jersey.server.internal.process.AsyncContext</code></li>
<li><code>javax.servlet.http.HttpServletRequest</code></li>
<li><code>javax.servlet.http.HttpServletResponse</code></li>
</ul>
<div class="admonition note">
<p>Request scoped objects must be used through provider:
<div class="codehilite"><pre><span></span><span class="nd">@Inject</span> <span class="n">Provider</span><span class="o">&lt;</span><span class="n">HttpServletRequest</span><span class="o">&gt;</span> <span class="n">requestProvider</span><span class="o">;</span>
</pre></div>
</p>
</div>
<h2 id="manual-mode">Manual mode<a class="headerlink" href="#manual-mode" title="Permanent link">&para;</a></h2>
<p>If you don't want to use auto configuration, then you will have to manually specify all extensions.
Example above would look in manual mode like this:</p>
<div class="codehilite"><pre><span></span><span class="n">bootstrap</span><span class="o">.</span><span class="na">addBundle</span><span class="o">(</span><span class="n">GuiceBundle</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
                <span class="o">.</span><span class="na">useWebInstallers</span><span class="o">()</span>
                <span class="o">.</span><span class="na">modules</span><span class="o">(</span><span class="k">new</span> <span class="n">SampleModule</span><span class="o">())</span>
                <span class="o">.</span><span class="na">extensions</span><span class="o">(</span>
                        <span class="n">SampleResource</span><span class="o">.</span><span class="na">class</span><span class="o">,</span>
                        <span class="n">SampleBootstrap</span><span class="o">.</span><span class="na">class</span><span class="o">,</span>
                        <span class="n">CustomHeaderFilter</span><span class="o">.</span><span class="na">class</span>
                <span class="o">)</span>
                <span class="o">.</span><span class="na">build</span><span class="o">());</span>
</pre></div>


<p>As you can see the actual difference is only the absence of classpath scan, so you have to manually
specify all extensions.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Explicit extensions declaration could be used in auto configuration mode too: for example,
classpath scan could not cover all packages with extensions (e.g. due to too much classes)
and not covered extensions may be specified manually.    </p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Duplicate extensions are filtered. If some extension is registered manually and also found with auto scan
then only one extension instance will be registered. 
Even if extension registered multiple times manually,
only one extension will work. </p>
</div>
<h2 id="installers">Installers<a class="headerlink" href="#installers" title="Permanent link">&para;</a></h2>
<p>Installer is the core concept in guicey: </p>
<ul>
<li>it detects extension in class (during classpath scan or manual extension specification)</li>
<li>it installs extension (in most cases, request instance from guice and install in in dropwizard environment) </li>
</ul>
<p>Most installer implementations are very simple, so you can easily understand how it works.</p>
<p>If installer does not work as you need (not quite or has a bug), you can always replace it:</p>
<div class="codehilite"><pre><span></span><span class="n">bootstrap</span><span class="o">.</span><span class="na">addBundle</span><span class="o">(</span><span class="n">GuiceBundle</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
                <span class="o">...</span>
                <span class="o">.</span><span class="na">disableInstaller</span><span class="o">(</span><span class="n">ManagedInstaller</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
                <span class="o">.</span><span class="na">installers</span><span class="o">(</span><span class="n">MyCustomManagedInstaller</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>       
                <span class="o">.</span><span class="na">build</span><span class="o">());</span>
</pre></div>


<p>In this example, managed objects installer was disabled and custom implementation registered. 
Of course, installer could be simply disabled without replacement.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Each extension could be installed only by one installer. It will be the first installer which recognize
the extension in class (according to installers order).</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can disable all installers enabled by default with:
<div class="codehilite"><pre><span></span><span class="o">.</span><span class="na">noDefaultInstallers</span><span class="o">()</span>
</pre></div>

In this case, you will have to register some installers manually (even if it would be just a few of 
guicey's own installers).</p>
</div>
<p>Installers are perfect extension points: consider writing custom installers for custom integrations 
(for example, to automatically register scheduler jobs using some annotation).</p>
<div class="admonition tip">
<p>Custom installers are also detected during classpath scan and could be registered automatically</p>
</div>
<h2 id="bundles">Bundles<a class="headerlink" href="#bundles" title="Permanent link">&para;</a></h2>
<p>From dropwizard you know that bundles are useful for re-using logic. </p>
<p>Guicey has it's own bundles (<code>GuiceyBundle</code>) for the same reasons. Bundles allow grouping
guice modules, guicey installers and extensions (and even other bundles transitively).</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Guicey can check registered dropwizard bundles if they implement <code>GuiceyBunlde</code> and register them as guicey bundles too.
It may be useful if guicey extensions are available in dropwizard bundle as additional (extra extension). 
To enable it use:
<div class="codehilite"><pre><span></span><span class="o">.</span><span class="na">configureFromDropwizardBundles</span><span class="o">()</span>
</pre></div>
</p>
</div>
<p>Guicey itself comes with multiple bundles: </p>
<ul>
<li><a href="../guide/bundles/#core-installers-bundle">Core installers bundle</a> - installers, enabled by default</li>
<li><a href="../guide/bundles/#web-installers-bundle">Web installers bundle</a> - web annotations installers for servlets and filters</li>
<li><a href="../guide/bundles/#hk-debug-bundle">Hk2/guice scope diagnostic bundle</a> - enables instantiation tracking to catch extensions instantiation by both (or just not intended) DI</li>
<li><a href="../guide/bundles/#diagnostic-bundle">Diagnostics bundle</a> - configuration diagnostic reporting to look under the hood of configuration process</li>
</ul>
<p><a href="https://github.com/xvik/dropwizard-guicey-ext">Extensions project</a> contains even more bundles with 3<sup>rd</sup> party integrations (guava event bus, jdbi, etc.).</p>
<h4 id="bundles-loading">Bundles loading<a class="headerlink" href="#bundles-loading" title="Permanent link">&para;</a></h4>
<p>Out of the box guicey provides multiple mechanisms for bundles loading.</p>
<p>For example, bundle could be <a href="../guide/bundles/#service-loader-lookup">loaded automatically</a> if it's present in classpath (plug-n-play modules).
Or bundle could be loaded by <a href="../guide/bundles/#system-property-lookup">system property</a>, which is useful for testing.</p>
<p>Custom bundle loading mechanism <a href="../guide/bundles/#customizing-lookup-mechanism">could be registered</a>.</p>
<h2 id="options">Options<a class="headerlink" href="#options" title="Permanent link">&para;</a></h2>
<p>Dropwizard configuration covers most configuration cases, except development specific cases.
For example, some trigger may be useful during application testing and be useless on production (so no reason to put it in configuration).
Other example is an ability of low level tuning for 3<sup>rd</sup> party bundles.</p>
<div class="admonition note">
<p><a href="../guide/options/">Options</a> are developer configurations: either required only for development or triggers set during development 
and not intended to be changed later.</p>
</div>
<p>Guicey itself use options for:</p>
<ul>
<li>Internal configurations (<code>GuiceOptions</code> enum, mostly configurable through main bundle builder methods): classpath scan packages, 
boolean flags, injector stage. Using options instead of internal bundle state allows any 3<sup>rd</sup> party
bundle/installer/extension to access these values.</li>
<li>Installers options (<code>InstallerOptions</code> enum): mostly, fail or "just print error" behaviour trigger. Default values are permissive,
but developer could enforce failure.</li>
</ul>
<h2 id="configuration-diagnostic">Configuration diagnostic<a class="headerlink" href="#configuration-diagnostic" title="Permanent link">&para;</a></h2>
<p>Guicey always logs installed extensions in console (as shown above), so you can be sure
if exact extension is installed or not.</p>
<p>Still, some configuration aspects could be not obvious (especially when project gets bigger):</p>
<ul>
<li>Where did it get this extension from</li>
<li>How long did it take to perform classpath scan</li>
<li>etc.</li>
</ul>
<p>During startup, guicey records configuration process. After enabling <code>printDiagnosticInfo</code>:</p>
<div class="codehilite"><pre><span></span><span class="n">bootstrap</span><span class="o">.</span><span class="na">addBundle</span><span class="o">(</span><span class="n">GuiceBundle</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
                <span class="o">...</span>
                <span class="o">.</span><span class="na">printDiagnosticInfo</span><span class="o">()</span>
                <span class="o">.</span><span class="na">build</span><span class="o">());</span>
</pre></div>


<p>You can see additional logs in console like:</p>
<div class="codehilite"><pre><span></span>    GUICEY started in 453.3 ms
       
     [0,88%] CLASSPATH scanned in 4.282 ms
        scanned 5 classes
        recognized 4 classes (80% of scanned)
       
     [4,2%] COMMANDS processed in 19.10 ms
        registered 2 commands
       
     [6,4%] BUNDLES processed in 29.72 ms
        2 resolved in 8.149 ms
        6 processed
    ...


    APPLICATION
     extension  FooBundleResource            (r.v.d.g.d.s.bundle)       
     module     FooModule                    (r.v.d.g.d.s.features)     
     module     GuiceSupportModule           (r.v.d.guice.module)       
     -disable   LifeCycleInstaller           (r.v.d.g.m.i.feature)      
       
     Foo2Bundle                   (r.v.d.g.d.s.bundle)       
        extension  FooBundleResource            (r.v.d.g.d.s.bundle)       *IGNORED
        module     FooBundleModule              (r.v.d.g.d.s.bundle)       
        -disable   ManagedInstaller             (r.v.d.g.m.i.feature)      
    ...
</pre></div>


<p>And <a href="../guide/diagnostic/">other logs</a> giving you inside look on configuration.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>It may be even used in educational purposes to better understand how guicey work.</p>
</div>
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href=".." title="Home" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Home
              </span>
            </div>
          </a>
        
        
          <a href="../guide/configuration/" title="Configuration" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Configuration
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2014-2017 Vyacheslav Rusakov
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://github.com/xvik" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/vyarus" class="md-footer-social__link fa fa-twitter"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application-2afe21e0b2.js"></script>
      <script>var config={url:{base:".."}},app=new Application(config);app.initialize()</script>
      
    
    
      
      <script>!function(e,t,a,n,o,c,i){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,c=t.createElement(a),i=t.getElementsByTagName(a)[0],c.async=1,c.src=n,i.parentNode.insertBefore(c,i)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-93174150-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var t=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",t,e.href)})});var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})</script>
      
    
  </body>
</html>